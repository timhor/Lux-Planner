<br>
<div id="body_div" align="center">
  <div id="headText">
  <h2>Account Settings</h2>
  </div>
  <br>
  <!-- <code>{{diagnostic}}</code> -->
  <div class="alert alert-warning" [hidden]="(password.valid || !password.touched) 
    && (email.valid || !email.touched) && newPassword === newPasswordConfirm && (!editPassword || !editEmail)">
    <div [hidden]="password.valid || !editPassword || !password.touched">
      Password is required. Min. 8 characters
    </div>
    <div [hidden]="newPassword === newPasswordConfirm">
      Passwords do not match
    </div>
    <div [hidden]="email.valid || !editEmail || !email.touched">
      Email is required
    </div>
  </div>
  <div class="row" id="text">
    <div class="col-sm-4">
      Avatar:
    </div>
    <div class="col-sm-6">
      <img [src]="avatar" height="75">
      <br><br>
      <form action="/action_page.php">
        <input  *ngIf="editAvatar" type="file" accept="image/*" class="form-control"  [(ngModel)]="newAvatar" >
      </form>
    </div>
    <div class="col-sm-2">
        <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editAvatar" (click)="updateAvatar()"></i>
        <i class="glyphicon glyphicon-remove-sign" aria-hidden="true" *ngIf="editAvatar" (click)="updateAvatar()"></i>
      </div>
  </div>
  <div class="row" id="text">
    <div class="col-sm-4">
      Username:
    </div>
    <div class="col-sm-8">
      <label>{{username}}</label>
    </div>
  </div>
  <div class="row" id="text">
    <div class="col-sm-4">
      Password:
    </div>
    <div class="col-sm-6">
      <label *ngIf="!editPassword">{{password}}</label>
      <input  *ngIf="editPassword" type="password" placeholder="Enter new password" class="form-control" minlength="8" [(ngModel)]="newPassword" name="password" #password="ngModel" required>
    </div>
    <div class="col-sm-2">
      <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editPassword" (click)="updatePassword()"></i>
      <i class="glyphicon glyphicon-remove-sign" aria-hidden="true" *ngIf="editPassword" (click)="updatePassword()"></i>
    </div>
  </div>
  <div class="row" id="text" *ngIf="editPassword">
    <div class="col-sm-4">
      Confirm Password:
    </div>
    <div class="col-sm-6">
      <input type="password" placeholder="Repeat new password" class="form-control" [(ngModel)]="newPasswordConfirm" name="confirmPassword" #confirmPassword="ngModel" required>
    </div>
  </div>
  <div class="row" id="text">
    <div class="col-sm-4">
      E-mail:
    </div>
    <div class="col-sm-6">
      <label *ngIf="!editEmail">{{email}}</label>
      <input *ngIf="editEmail" type="email" placeholder="Enter new email" class="form-control" [(ngModel)]="newEmail" name="email" #email="ngModel" required>
    </div>
    <div class="col-sm-2">
      <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editEmail" (click)="updateEmail()"></i>
      <i class="glyphicon glyphicon-remove-sign" aria-hidden="true" *ngIf="editEmail" (click)="updateEmail()"></i>
    </div>
  </div>
  <br>
  <button class="btn btn-primary" *ngIf="editAvatar || editPassword || editEmail" (click)="onSubmit()">Confirm Changes</button>
</div>

<br><br>