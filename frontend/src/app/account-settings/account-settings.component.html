<br>
<app-confirm #confirm>
  <div class="app-confirm-header">
    <button type="button" class="btn btn-danger pull-right" (click)="confirm.hide()"><i class="fa fa-times" aria-hidden="true"></i></button>
    Deletion Authentication
  </div>
  <div class="app-confirm-body">
    <div class="form-group" align="center">
      <!--<label for="passwordConfirmation"><b>Confirm Password</b></label>-->
      <input class="form-control" type="password" placeholder="Confirm Password" name="passwordConfirmation" [(ngModel)]="passwordConfirmation" required style="width:50%">
    </div>
  </div>
  <div class="app-confirm-footer">
    <button type="button" class="button-rect button-orange" id="modal-button" (click)="confirm.hide()" style="width:30%">Cancel</button>
    <button type="button" class="button-rect button-red" id="modal-button" (click)="deleteAccount(passwordConfirmation)" (click)="confirm.hide()" style="width:30%">Delete</button>
  </div>
</app-confirm>

<div class="well well-content" align="center">
  <div id="headText">
    <h1>Account Settings</h1>
  </div>
  <br>
  <br>
  <!-- <code>{{diagnostic}}</code> -->
  <!-- <div class="alert alert-warning" [hidden]="(password.valid || !password.touched)
    && (email.valid || !email.touched) && (firstName.valid || !firstName.touched)
    && (lastName.valid || !lastName.touched) && newPassword === newPasswordConfirm
    && (!editPassword || !editEmail || !editFirstName || !editLastName)">
    <div [hidden]="password.valid || !editPassword || !password.touched">
      Password is required. Min. 8 characters
    </div>
    <div [hidden]="newPassword === newPasswordConfirm">
      Passwords do not match
    </div>
    <div [hidden]="email.valid || !editEmail || !email.touched">
      Email is required
    </div>
    <div [hidden]="firstName.valid || !editFirstName || !firstName.touched">
      First Name is required
    </div>
    <div [hidden]="lastName.valid || !editLastName || !lastName.touched">
      Last Name is required
    </div>
  </div> -->
  <div style="padding-left:2vw; padding-right:2vw;" class="card card-start">
    <br>
    <div class="row" id="text">
      <div class="col-sm-4">
        Username:
      </div>
      <div class="col-sm-8">
        <label>{{username}}</label>
      </div>
    </div>
  </div>
  <br>
  <div style="padding-left:2vw; padding-right:2vw;" class="card">
    <br>
    <div class="row" id="text">
      <div class="col-sm-4">
        Password:
      </div>
      <div class="col-sm-6">
        <label *ngIf="!editPassword">{{password}}</label>
        <input  *ngIf="editPassword" type="password" placeholder="Enter new password" class="form-control" minlength="8" [(ngModel)]="newPassword" name="password" #password="ngModel" required>
      </div>
      <div class="col-sm-2">
        <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editPassword" (click)="updatePassword()"></i>
        <i class="glyphicon glyphicon-remove-sign grow" aria-hidden="true" *ngIf="editPassword" (click)="updatePassword()"></i>
      </div>
    </div>
    <div class="row" id="text" *ngIf="editPassword">
      <div class="col-sm-4">
        Confirm Password:
      </div>
      <div class="col-sm-6">
        <input type="password" placeholder="Repeat new password" class="form-control" [(ngModel)]="newPasswordConfirm" name="confirmPassword" #confirmPassword="ngModel" required>
      </div>
    </div>
  </div>
  <br>
  <div style="padding-left:2vw; padding-right:2vw;" class="card">
    <br>
    <div class="row" id="text">
      <div class="col-sm-4">
        E-mail:
      </div>
      <div class="col-sm-6">
        <label *ngIf="!editEmail">{{email}}</label>
        <input *ngIf="editEmail" type="email" placeholder="Enter new email" class="form-control" [(ngModel)]="newEmail" name="email" #email="ngModel" required>
      </div>
      <div class="col-sm-2">
        <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editEmail" (click)="updateEmail()"></i>
        <i class="glyphicon glyphicon-remove-sign grow" aria-hidden="true" *ngIf="editEmail" (click)="updateEmail()"></i>
      </div>
    </div>
  </div>
  <br>
  <div style="padding-left:2vw; padding-right:2vw;" class="card">
    <br>
    <div class="row" id="text">
      <div class="col-sm-4">
        First Name:
      </div>
      <div class="col-sm-6">
        <label *ngIf="!editFirstName">{{firstName}}</label>
        <input *ngIf="editFirstName" type="firstName" placeholder="Enter new first name" class="form-control" [(ngModel)]="newFirstName" name="firstName" #firstName="ngModel" required>
      </div>
      <div class="col-sm-2">
        <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editFirstName" (click)="updateFirstName()"></i>
        <i class="glyphicon glyphicon-remove-sign grow" aria-hidden="true" *ngIf="editFirstName" (click)="updateFirstName()"></i>
      </div>
    </div>
    <div class="row" id="text">
      <div class="col-sm-4">
        Last Name:
      </div>
      <div class="col-sm-6">
        <label *ngIf="!editLastName">{{lastName}}</label>
        <input *ngIf="editLastName" type="lastName" placeholder="Enter new last name" class="form-control" [(ngModel)]="newLastName" name="lastName" #lastName="ngModel" required>
      </div>
      <div class="col-sm-2">
        <i class="glyphicon glyphicon-edit grow" aria-hidden="true" *ngIf="!editLastName" (click)="updateLastName()"></i>
        <i class="glyphicon glyphicon-remove-sign grow" aria-hidden="true" *ngIf="editLastName" (click)="updateLastName()"></i>
      </div>
    </div>
  </div>
  <br>
  <br>
  <div class="row">
    <div class="form-group">
      <div class="col-sm-6">
        <button class="button-rect button-red" (click)="confirm.show()">Delete Account</button>
      </div>
      <div class="col-sm-6">
        <button class="button-rect button-blue" *ngIf="editAvatar || editPassword || editEmail || editFirstName || editLastName" (click)="onSubmit()">Confirm Changes</button>
      </div>
    </div>
  </div>
</div>
<br>